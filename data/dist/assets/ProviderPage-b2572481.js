import{Y as x,a4 as D,j as w,b as e,w as t,G as U,T as N,ae as R,o as h,a8 as B,a9 as I,m,e as d,d as o,B as S,C as V,V as O,t as p,z as k,n as _,R as z,E as v,K as W,L as y,f as E,ag as K,c as T,U as j,F as M,l as L,af as F,av as J,ax as Y,ay as q,az as H,S as G,k as Q,i as X,as as Z,a2 as $,a3 as ee}from"./index-f4130869.js";import{A as te}from"./AstrBotConfig-4a1033c3.js";import{W as se}from"./WaitingForRestart-82da020f.js";import{C as ie}from"./ConsoleDisplayer-92b1186c.js";import{I as ae}from"./ItemCardGrid-fa18ddda.js";import{_ as oe}from"./_plugin-vue_export-helper-c27b6911.js";import"./index-34d28bc5.js";import"./common-5ba6cde7.js";const le={name:"ProviderPage",components:{AstrBotConfig:te,WaitingForRestart:se,ConsoleDisplayer:ie,ItemCardGrid:ae},data(){return{config_data:{},fetched:!1,metadata:{},showProviderCfg:!1,showSettingsDialog:!1,sessionSeparationEnabled:!1,sessionSettingLoading:!1,newSelectedProviderName:"",newSelectedProviderConfig:{},updatingMode:!1,loading:!1,save_message_snack:!1,save_message:"",save_message_success:"success",showConsole:!1,providerStatuses:[],loadingStatus:!1,showAddProviderDialog:!1,activeProviderTab:"chat_completion",activeProviderTypeTab:"all",oldVersionProviderTypeMapping:{openai_chat_completion:"chat_completion",anthropic_chat_completion:"chat_completion",googlegenai_chat_completion:"chat_completion",zhipu_chat_completion:"chat_completion",llm_tuner:"chat_completion",dify:"chat_completion",dashscope:"chat_completion",openai_whisper_api:"speech_to_text",openai_whisper_selfhost:"speech_to_text",sensevoice_stt_selfhost:"speech_to_text",openai_tts_api:"text_to_speech",edge_tts:"text_to_speech",gsvi_tts_api:"text_to_speech",fishaudio_tts_api:"text_to_speech",dashscope_tts:"text_to_speech",azure_tts:"text_to_speech",minimax_tts_api:"text_to_speech",volcengine_tts:"text_to_speech"}}},computed:{filteredProviders(){return!this.config_data.provider||this.activeProviderTypeTab==="all"?this.config_data.provider||[]:this.config_data.provider.filter(i=>i.provider_type?i.provider_type===this.activeProviderTypeTab:this.oldVersionProviderTypeMapping[i.type]===this.activeProviderTypeTab)}},mounted(){this.getConfig(),this.getSessionSeparationStatus()},methods:{getConfig(){x.get("/api/config/get").then(i=>{this.config_data=i.data.data.config,this.fetched=!0,this.metadata=i.data.data.metadata}).catch(i=>{var s,r;this.showError(((r=(s=i.response)==null?void 0:s.data)==null?void 0:r.message)||i.message)})},getEmptyText(){return this.activeProviderTypeTab==="all"?"暂无服务提供商，点击 新增服务提供商 添加":`暂无${this.getTabTypeName(this.activeProviderTypeTab)}类型的服务提供商，点击 新增服务提供商 添加`},getTemplatesByType(i){var u,l,c;const s=((c=(l=(u=this.metadata.provider_group)==null?void 0:u.metadata)==null?void 0:l.provider)==null?void 0:c.config_template)||{},r={};for(const[A,P]of Object.entries(s))P.provider_type===i&&(r[A]=P);return r},getProviderIcon(i){const s={OpenAI:"https://registry.npmmirror.com/@lobehub/icons-static-svg/latest/files/icons/openai.svg","Azure OpenAI":"https://registry.npmmirror.com/@lobehub/icons-static-svg/latest/files/icons/openai.svg",Whisper:"https://registry.npmmirror.com/@lobehub/icons-static-svg/latest/files/icons/openai.svg",xAI:"https://registry.npmmirror.com/@lobehub/icons-static-svg/latest/files/icons/xai.svg",Anthropic:"https://registry.npmmirror.com/@lobehub/icons-static-svg/latest/files/icons/anthropic.svg",Ollama:"https://registry.npmmirror.com/@lobehub/icons-static-svg/latest/files/icons/anthropic.svg",Gemini:"https://registry.npmmirror.com/@lobehub/icons-static-svg/latest/files/icons/gemini-color.svg","Gemini(OpenAI兼容)":"https://registry.npmmirror.com/@lobehub/icons-static-svg/latest/files/icons/gemini-color.svg",DeepSeek:"https://registry.npmmirror.com/@lobehub/icons-static-svg/latest/files/icons/deepseek.svg","智谱 AI":"https://registry.npmmirror.com/@lobehub/icons-static-svg/latest/files/icons/zhipu.svg",硅基流动:"https://registry.npmmirror.com/@lobehub/icons-static-svg/latest/files/icons/siliconcloud.svg",Kimi:"https://registry.npmmirror.com/@lobehub/icons-static-svg/latest/files/icons/kimi.svg",PPIO派欧云:"https://registry.npmmirror.com/@lobehub/icons-static-svg/latest/files/icons/ppio.svg",Dify:"https://registry.npmmirror.com/@lobehub/icons-static-svg/latest/files/icons/dify-color.svg",阿里云百炼:"https://registry.npmmirror.com/@lobehub/icons-static-svg/latest/files/icons/alibabacloud-color.svg",FastGPT:"https://registry.npmmirror.com/@lobehub/icons-static-svg/latest/files/icons/fastgpt-color.svg","LM Studio":"https://registry.npmmirror.com/@lobehub/icons-static-svg/latest/files/icons/lmstudio.svg",FishAudio:"https://registry.npmmirror.com/@lobehub/icons-static-svg/latest/files/icons/fishaudio.svg",Azure:"https://registry.npmmirror.com/@lobehub/icons-static-svg/latest/files/icons/azure.svg",MiniMax:"https://registry.npmmirror.com/@lobehub/icons-static-svg/latest/files/icons/minimax.svg"};for(const r in s)if(i.startsWith(r))return s[r];return""},getTabTypeName(i){return{chat_completion:"基本对话",speech_to_text:"语音转文本",text_to_speech:"文本转语音",embedding:"Embedding"}[i]||i},getProviderDescription(i,s){return s=="OpenAI"?`${i.type} 服务提供商。同时也支持所有兼容 OpenAI API 的模型提供商。`:`${i.type} 服务提供商`},selectProviderTemplate(i){var s,r,u;this.newSelectedProviderName=i,this.showProviderCfg=!0,this.updatingMode=!1,this.newSelectedProviderConfig=JSON.parse(JSON.stringify(((u=(r=(s=this.metadata.provider_group)==null?void 0:s.metadata)==null?void 0:r.provider)==null?void 0:u.config_template[i])||{})),this.showAddProviderDialog=!1},addFromDefaultConfigTmpl(i){this.selectProviderTemplate(i[0])},configExistingProvider(i){var l,c,A,P;this.newSelectedProviderName=i.id,this.newSelectedProviderConfig={};let s=((A=(c=(l=this.metadata.provider_group)==null?void 0:l.metadata)==null?void 0:c.provider)==null?void 0:A.config_template)||{},r={};for(let f in s)if(((P=s[f])==null?void 0:P.type)===i.type){r=s[f];break}const u=(f,g,a)=>{if(g&&typeof g=="object"&&!Array.isArray(g))for(let n in g)g.hasOwnProperty(n)&&(typeof g[n]=="object"&&g[n]!==null?f[n]=Array.isArray(g[n])?[...g[n]]:{...g[n]}:f[n]=g[n]);for(let n in a)typeof a[n]=="object"&&a[n]!==null?(n in f||(f[n]=Array.isArray(a[n])?[]:{}),u(f[n],g&&g[n]?g[n]:{},a[n])):n in f||(f[n]=a[n])};r&&u(this.newSelectedProviderConfig,i,r),this.showProviderCfg=!0,this.updatingMode=!0},newProvider(){this.loading=!0,this.updatingMode?(x.post("/api/config/provider/update",{id:this.newSelectedProviderName,config:this.newSelectedProviderConfig}).then(i=>{this.loading=!1,this.showProviderCfg=!1,this.getConfig(),this.showSuccess(i.data.message||"更新成功!")}).catch(i=>{var s,r;this.loading=!1,this.showError(((r=(s=i.response)==null?void 0:s.data)==null?void 0:r.message)||i.message)}),this.updatingMode=!1):x.post("/api/config/provider/new",this.newSelectedProviderConfig).then(i=>{this.loading=!1,this.showProviderCfg=!1,this.getConfig(),this.showSuccess(i.data.message||"添加成功!")}).catch(i=>{var s,r;this.loading=!1,this.showError(((r=(s=i.response)==null?void 0:s.data)==null?void 0:r.message)||i.message)})},deleteProvider(i){confirm(`确定要删除服务提供商 ${i.id} 吗?`)&&x.post("/api/config/provider/delete",{id:i.id}).then(s=>{this.getConfig(),this.showSuccess(s.data.message||"删除成功!")}).catch(s=>{var r,u;this.showError(((u=(r=s.response)==null?void 0:r.data)==null?void 0:u.message)||s.message)})},providerStatusChange(i){i.enable=!i.enable,x.post("/api/config/provider/update",{id:i.id,config:i}).then(s=>{this.getConfig(),this.showSuccess(s.data.message||"状态更新成功!")}).catch(s=>{var r,u;i.enable=!i.enable,this.showError(((u=(r=s.response)==null?void 0:r.data)==null?void 0:u.message)||s.message)})},getSessionSeparationStatus(){x.get("/api/config/provider/get_session_seperate").then(i=>{i.data&&i.data.status==="ok"&&(this.sessionSeparationEnabled=i.data.data.enable)}).catch(i=>{var s,r;this.showError(((r=(s=i.response)==null?void 0:s.data)==null?void 0:r.message)||"获取会话隔离配置失败")})},updateSessionSeparation(){this.sessionSettingLoading=!0,x.post("/api/config/provider/set_session_seperate",{enable:this.sessionSeparationEnabled}).then(i=>{this.showSuccess(i.data.message||"会话隔离设置已更新"),this.sessionSettingLoading=!1}).catch(i=>{var s,r;this.sessionSeparationEnabled=!this.sessionSeparationEnabled,this.showError(((r=(s=i.response)==null?void 0:s.data)==null?void 0:r.message)||i.message),this.sessionSettingLoading=!1})},showSuccess(i){this.save_message=i,this.save_message_success="success",this.save_message_snack=!0},showError(i){this.save_message=i,this.save_message_success="error",this.save_message_snack=!0},fetchProviderStatus(){this.loadingStatus=!0,x.get("/api/config/provider/check_status").then(i=>{var s;i.data&&i.data.status==="ok"?this.providerStatuses=i.data.data||[]:this.showError(((s=i.data)==null?void 0:s.message)||"获取供应商状态失败"),this.loadingStatus=!1}).catch(i=>{var s,r;this.loadingStatus=!1,this.showError(((r=(s=i.response)==null?void 0:s.data)==null?void 0:r.message)||i.message)})}}},b=i=>($("data-v-fbe4d504"),i=i(),ee(),i),re={class:"provider-page"},ne={class:"text-h4 font-weight-bold mb-2"},de=b(()=>m("p",{class:"text-subtitle-1 text-medium-emphasis mb-4"}," 管理模型服务提供商 ",-1)),ce=b(()=>m("span",{class:"text-h6"},"服务提供商",-1)),pe={class:"d-flex align-center mb-2"},me={class:"text-caption text-medium-emphasis"},ge={key:0,class:"d-flex align-center mb-2"},ue=["title"],he={key:1,class:"d-flex align-center"},fe=b(()=>m("span",{class:"text-caption text-medium-emphasis"},"API Key: ••••••••",-1)),_e=b(()=>m("span",{class:"text-h6"},"供应商可用性",-1)),ve={class:"font-weight-bold"},ye=b(()=>m("span",{class:"font-weight-bold"},"错误信息:",-1)),be=b(()=>m("span",{class:"text-h6"},"服务日志",-1)),xe=b(()=>m("span",null,"服务提供商",-1)),we=["src"],Se={key:1,style:{"font-weight":"1000"}},Pe=b(()=>m("span",null,"服务提供商设置",-1)),Ce=b(()=>m("div",null,[m("div",{class:"text-subtitle-1"},"启用提供商会话隔离"),m("div",{class:"text-caption text-medium-emphasis"},"不同会话将可独立选择文本生成、TTS、STT 等服务提供商。")],-1));function Ve(i,s,r,u,l,c){const A=D("item-card-grid"),P=D("ConsoleDisplayer"),f=D("AstrBotConfig"),g=D("WaitingForRestart");return h(),w("div",re,[e(U,{fluid:"",class:"pa-0"},{default:t(()=>[e(B,null,{default:t(()=>[e(I,{cols:"12"},{default:t(()=>[m("h1",ne,[e(d,{size:"x-large",color:"primary",class:"me-2"},{default:t(()=>[o("mdi-creation")]),_:1}),o("服务提供商管理 ")]),de]),_:1})]),_:1}),e(S,{class:"mb-6",elevation:"2"},{default:t(()=>[e(V,{class:"d-flex align-center py-3 px-4"},{default:t(()=>[e(d,{color:"primary",class:"me-2"},{default:t(()=>[o("mdi-api")]),_:1}),ce,e(O,{color:"info",size:"small",class:"ml-2"},{default:t(()=>{var a;return[o(p(((a=l.config_data.provider)==null?void 0:a.length)||0),1)]}),_:1}),e(k),e(_,{color:"success","prepend-icon":"mdi-cog",variant:"tonal",class:"me-2",onClick:s[0]||(s[0]=a=>l.showSettingsDialog=!0)},{default:t(()=>[o(" 设置 ")]),_:1}),e(_,{color:"primary","prepend-icon":"mdi-plus",variant:"tonal",onClick:s[1]||(s[1]=a=>l.showAddProviderDialog=!0)},{default:t(()=>[o(" 新增服务提供商 ")]),_:1})]),_:1}),e(z),e(v,{class:"px-4 pt-3 pb-0"},{default:t(()=>[e(W,{modelValue:l.activeProviderTypeTab,"onUpdate:modelValue":s[2]||(s[2]=a=>l.activeProviderTypeTab=a),"bg-color":"transparent"},{default:t(()=>[e(y,{value:"all",class:"font-weight-medium px-3"},{default:t(()=>[e(d,{start:""},{default:t(()=>[o("mdi-filter-variant")]),_:1}),o(" 全部 ")]),_:1}),e(y,{value:"chat_completion",class:"font-weight-medium px-3"},{default:t(()=>[e(d,{start:""},{default:t(()=>[o("mdi-message-text")]),_:1}),o(" 基本对话 ")]),_:1}),e(y,{value:"speech_to_text",class:"font-weight-medium px-3"},{default:t(()=>[e(d,{start:""},{default:t(()=>[o("mdi-microphone-message")]),_:1}),o(" 语音转文字 ")]),_:1}),e(y,{value:"text_to_speech",class:"font-weight-medium px-3"},{default:t(()=>[e(d,{start:""},{default:t(()=>[o("mdi-volume-high")]),_:1}),o(" 文字转语音 ")]),_:1}),e(y,{value:"embedding",class:"font-weight-medium px-3"},{default:t(()=>[e(d,{start:""},{default:t(()=>[o("mdi-code-json")]),_:1}),o(" Embedding ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(v,{class:"px-4 py-3"},{default:t(()=>[e(A,{items:c.filteredProviders,"title-field":"id","enabled-field":"enable","empty-icon":"mdi-api-off","empty-text":c.getEmptyText(),onToggleEnabled:c.providerStatusChange,onDelete:c.deleteProvider,onEdit:c.configExistingProvider},{"item-details":t(({item:a})=>[m("div",pe,[e(d,{size:"small",color:"grey",class:"me-2"},{default:t(()=>[o("mdi-tag")]),_:1}),m("span",me,[o(" 提供商类型: "),e(O,{size:"x-small",color:"primary",class:"ml-1"},{default:t(()=>[o(p(a.type),1)]),_:2},1024)])]),a.api_base?(h(),w("div",ge,[e(d,{size:"small",color:"grey",class:"me-2"},{default:t(()=>[o("mdi-web")]),_:1}),m("span",{class:"text-caption text-medium-emphasis text-truncate",title:a.api_base}," API Base: "+p(a.api_base),9,ue)])):E("",!0),a.api_key?(h(),w("div",he,[e(d,{size:"small",color:"grey",class:"me-2"},{default:t(()=>[o("mdi-key")]),_:1}),fe])):E("",!0)]),_:1},8,["items","empty-text","onToggleEnabled","onDelete","onEdit"])]),_:1})]),_:1}),e(S,{class:"mb-6",elevation:"2"},{default:t(()=>[e(V,{class:"d-flex align-center py-3 px-4"},{default:t(()=>[e(d,{color:"primary",class:"me-2"},{default:t(()=>[o("mdi-heart-pulse")]),_:1}),_e,e(k),e(_,{color:"primary",variant:"tonal",loading:l.loadingStatus,onClick:c.fetchProviderStatus},{default:t(()=>[e(d,{left:""},{default:t(()=>[o("mdi-refresh")]),_:1}),o(" 刷新状态 ")]),_:1},8,["loading","onClick"])]),_:1}),e(K,{class:"px-4 py-1 text-caption text-medium-emphasis"},{default:t(()=>[o(" 通过测试模型对话可用性判断，可能产生API费用 ")]),_:1}),e(z),e(v,{class:"px-4 py-3"},{default:t(()=>[l.providerStatuses.length===0?(h(),T(j,{key:0,type:"info",variant:"tonal"},{default:t(()=>[o(' 点击"刷新状态"按钮获取供应商可用性 ')]),_:1})):(h(),T(U,{key:1,class:"pa-0"},{default:t(()=>[e(B,null,{default:t(()=>[(h(!0),w(M,null,L(l.providerStatuses,a=>(h(),T(I,{key:a.id,cols:"12",sm:"6",md:"4"},{default:t(()=>[e(S,{variant:"outlined",class:"status-card"},{default:t(()=>[e(F,null,{default:t(()=>[e(d,{color:a.status==="available"?"success":"error",class:"me-2"},{default:t(()=>[o(p(a.status==="available"?"mdi-check-circle":"mdi-alert-circle"),1)]),_:2},1032,["color"]),m("span",ve,p(a.id),1),e(O,{color:a.status==="available"?"success":"error",size:"small",class:"ml-2"},{default:t(()=>[o(p(a.status==="available"?"可用":"不可用"),1)]),_:2},1032,["color"])]),_:2},1024),a.status==="unavailable"?(h(),T(v,{key:0,class:"text-caption text-medium-emphasis"},{default:t(()=>[ye,o(" "+p(a.error),1)]),_:2},1024)):E("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}))]),_:1})]),_:1}),e(S,{elevation:"2"},{default:t(()=>[e(V,{class:"d-flex align-center py-3 px-4"},{default:t(()=>[e(d,{color:"primary",class:"me-2"},{default:t(()=>[o("mdi-console-line")]),_:1}),be,e(k),e(_,{variant:"text",color:"primary",onClick:s[3]||(s[3]=a=>l.showConsole=!l.showConsole)},{default:t(()=>[o(p(l.showConsole?"收起":"展开")+" ",1),e(d,null,{default:t(()=>[o(p(l.showConsole?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1})]),_:1})]),_:1}),e(z),e(J,null,{default:t(()=>[l.showConsole?(h(),T(v,{key:0,class:"pa-0"},{default:t(()=>[e(P,{style:{"background-color":"#1e1e1e",height:"300px","border-radius":"0"}})]),_:1})):E("",!0)]),_:1})]),_:1})]),_:1}),e(N,{modelValue:l.showAddProviderDialog,"onUpdate:modelValue":s[7]||(s[7]=a=>l.showAddProviderDialog=a),"max-width":"1100px","min-height":"95%"},{default:t(()=>[e(S,{class:"provider-selection-dialog"},{default:t(()=>[e(V,{class:"bg-primary text-white py-3 px-4",style:{display:"flex","align-items":"center"}},{default:t(()=>[e(d,{color:"white",class:"me-2"},{default:t(()=>[o("mdi-plus-circle")]),_:1}),xe,e(k),e(_,{icon:"",variant:"text",color:"white",onClick:s[4]||(s[4]=a=>l.showAddProviderDialog=!1)},{default:t(()=>[e(d,null,{default:t(()=>[o("mdi-close")]),_:1})]),_:1})]),_:1}),e(v,{class:"pa-4",style:{"overflow-y":"auto"}},{default:t(()=>[e(W,{modelValue:l.activeProviderTab,"onUpdate:modelValue":s[5]||(s[5]=a=>l.activeProviderTab=a),grow:"","slider-color":"primary","bg-color":"background"},{default:t(()=>[e(y,{value:"chat_completion",class:"font-weight-medium px-3"},{default:t(()=>[e(d,{start:""},{default:t(()=>[o("mdi-message-text")]),_:1}),o(" 基本 ")]),_:1}),e(y,{value:"speech_to_text",class:"font-weight-medium px-3"},{default:t(()=>[e(d,{start:""},{default:t(()=>[o("mdi-microphone-message")]),_:1}),o(" 语音转文字 ")]),_:1}),e(y,{value:"text_to_speech",class:"font-weight-medium px-3"},{default:t(()=>[e(d,{start:""},{default:t(()=>[o("mdi-volume-high")]),_:1}),o(" 文字转语音 ")]),_:1}),e(y,{value:"embedding",class:"font-weight-medium px-3"},{default:t(()=>[e(d,{start:""},{default:t(()=>[o("mdi-code-json")]),_:1}),o(" Embedding ")]),_:1})]),_:1},8,["modelValue"]),e(Y,{modelValue:l.activeProviderTab,"onUpdate:modelValue":s[6]||(s[6]=a=>l.activeProviderTab=a),class:"mt-4"},{default:t(()=>[(h(),w(M,null,L(["chat_completion","speech_to_text","text_to_speech","embedding"],a=>e(q,{key:a,value:a},{default:t(()=>[e(B,{class:"mt-1"},{default:t(()=>[(h(!0),w(M,null,L(c.getTemplatesByType(a),(n,C)=>(h(),T(I,{key:C,cols:"12",sm:"6",md:"4"},{default:t(()=>[e(S,{variant:"outlined",hover:"",class:"provider-card",onClick:ke=>c.selectProviderTemplate(C)},{default:t(()=>[e(F,null,{prepend:t(()=>[e(H,{color:"primary",variant:"tonal",class:"mr-3"},{default:t(()=>[c.getProviderIcon(C)?(h(),w("img",{key:0,src:c.getProviderIcon(C),width:"24",height:"24"},null,8,we)):(h(),w("span",Se,p(C[0].toUpperCase()),1))]),_:2},1024)]),default:t(()=>[e(V,{style:{"font-size":"15px"}},{default:t(()=>[o(p(C),1)]),_:2},1024)]),_:2},1024),e(v,{class:"text-caption text-medium-emphasis"},{default:t(()=>[o(p(c.getProviderDescription(n,C)),1)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128)),Object.keys(c.getTemplatesByType(a)).length===0?(h(),T(I,{key:0,cols:"12"},{default:t(()=>[e(j,{type:"info",variant:"tonal"},{default:t(()=>[o(" 暂无"+p(c.getTabTypeName(a))+"类型的提供商模板 ",1)]),_:2},1024)]),_:2},1024)):E("",!0)]),_:2},1024)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(N,{modelValue:l.showProviderCfg,"onUpdate:modelValue":s[9]||(s[9]=a=>l.showProviderCfg=a),width:"900",persistent:""},{default:t(()=>[e(S,null,{default:t(()=>[e(V,{class:"bg-primary text-white py-3"},{default:t(()=>[e(d,{color:"white",class:"me-2"},{default:t(()=>[o(p(l.updatingMode?"mdi-pencil":"mdi-plus"),1)]),_:1}),m("span",null,p(l.updatingMode?"编辑":"新增")+" "+p(l.newSelectedProviderName)+" 服务提供商",1)]),_:1}),e(v,{class:"py-4"},{default:t(()=>{var a;return[e(f,{iterable:l.newSelectedProviderConfig,metadata:(a=l.metadata.provider_group)==null?void 0:a.metadata,metadataKey:"provider"},null,8,["iterable","metadata"])]}),_:1}),e(z),e(G,{class:"pa-4"},{default:t(()=>[e(k),e(_,{variant:"text",onClick:s[8]||(s[8]=a=>l.showProviderCfg=!1),disabled:l.loading},{default:t(()=>[o(" 取消 ")]),_:1},8,["disabled"]),e(_,{color:"primary",onClick:c.newProvider,loading:l.loading},{default:t(()=>[o(" 保存 ")]),_:1},8,["onClick","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(N,{modelValue:l.showSettingsDialog,"onUpdate:modelValue":s[13]||(s[13]=a=>l.showSettingsDialog=a),"max-width":"600px"},{default:t(()=>[e(S,null,{default:t(()=>[e(V,{class:"bg-primary text-white py-3 px-4",style:{display:"flex","align-items":"center"}},{default:t(()=>[e(d,{color:"white",class:"me-2"},{default:t(()=>[o("mdi-cog")]),_:1}),Pe,e(k),e(_,{icon:"",variant:"text",color:"white",onClick:s[10]||(s[10]=a=>l.showSettingsDialog=!1)},{default:t(()=>[e(d,null,{default:t(()=>[o("mdi-close")]),_:1})]),_:1})]),_:1}),e(v,{class:"pa-4"},{default:t(()=>[e(Q,null,{default:t(()=>[e(X,null,{default:t(()=>[e(Z,{style:{padding:"12px"},modelValue:l.sessionSeparationEnabled,"onUpdate:modelValue":s[11]||(s[11]=a=>l.sessionSeparationEnabled=a),color:"primary",loading:l.sessionSettingLoading,onChange:c.updateSessionSeparation,"hide-details":""},{label:t(()=>[Ce]),_:1},8,["modelValue","loading","onChange"])]),_:1})]),_:1})]),_:1}),e(G,{class:"pa-4"},{default:t(()=>[e(k),e(_,{variant:"text",onClick:s[12]||(s[12]=a=>l.showSettingsDialog=!1)},{default:t(()=>[o(" 关闭 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(R,{timeout:3e3,elevation:"24",color:l.save_message_success,modelValue:l.save_message_snack,"onUpdate:modelValue":s[14]||(s[14]=a=>l.save_message_snack=a),location:"top"},{default:t(()=>[o(p(l.save_message),1)]),_:1},8,["color","modelValue"]),e(g,{ref:"wfr"},null,512)])}const Oe=oe(le,[["render",Ve],["__scopeId","data-v-fbe4d504"]]);export{Oe as default};
