import{o as d,c as v,a as ke,w as e,b as t,V as Ve,d as n,t as z,e as k,f as V,g as Se,h as Ce,i as Te,s as Ie,r as m,j as B,k as ze,F as oe,l as De,m as i,u as s,n as c,p as Ee,q as Ae,v as D,x as ve,y as he,z as J,A as K,B as se,C as Le,D as T,E as ie,G as be,H as Q,I as Z,J as Be,K as $e,L as ne,M as Me,N as de,O as re,P as Re,Q as G,R as ue,S as me,T as ce,U as ee,W as He,X as Pe,Y as W,Z as pe,_ as Ue,$ as Ne,a0 as We,a1 as Xe}from"./index-f4130869.js";import{u as M}from"./customizer-b207e117.js";import{L as Ye,m as fe}from"./md5-aca119df.js";import{u as Fe}from"./common-5ba6cde7.js";import{m as je}from"./marked.esm-01fb2abe.js";import"./config-aff687d2.js";import"./astrbot_logo_mini-3d1805c3.js";import"./_plugin-vue_export-helper-c27b6911.js";const qe=[{title:"统计",icon:"mdi-view-dashboard",to:"/dashboard/default"},{title:"消息平台",icon:"mdi-message-processing",to:"/platforms"},{title:"服务提供商",icon:"mdi-creation",to:"/providers"},{title:"MCP",icon:"mdi-function-variant",to:"/tool-use"},{title:"配置文件",icon:"mdi-cog",to:"/config"},{title:"插件管理",icon:"mdi-puzzle",to:"/extension"},{title:"插件市场",icon:"mdi-storefront",to:"/extension-marketplace"},{title:"聊天",icon:"mdi-chat",to:"/chat"},{title:"对话数据库",icon:"mdi-database",to:"/conversation"},{title:"控制台",icon:"mdi-console",to:"/console"},{title:"Alkaid",icon:"mdi-test-tube",to:"/alkaid"},{title:"关于",icon:"mdi-information",to:"/about"}],Ge={__name:"NavItem",props:{item:Object,level:Number},setup(p){return(f,g)=>(d(),v(Te,{to:p.item.type==="external"?"":p.item.to,href:p.item.type==="external"?p.item.to:"",rounded:"",class:"mb-1",color:"secondary",disabled:p.item.disabled,target:p.item.type==="external"?"_blank":""},ke({prepend:e(()=>[p.item.icon?(d(),v(k,{key:0,size:p.item.iconSize,class:"hide-menu",icon:p.item.icon},null,8,["size","icon"])):V("",!0)]),default:e(()=>[t(Se,{style:{"font-size":"14px"}},{default:e(()=>[n(z(p.item.title),1)]),_:1}),p.item.subCaption?(d(),v(Ce,{key:0,class:"text-caption mt-n1 hide-menu"},{default:e(()=>[n(z(p.item.subCaption),1)]),_:1})):V("",!0)]),_:2},[p.item.chip?{name:"append",fn:e(()=>[t(Ve,{color:p.item.chipColor,class:"sidebarchip hide-menu",size:p.item.chipIcon?"small":"default",variant:p.item.chipVariant,"prepend-icon":p.item.chipIcon},{default:e(()=>[n(z(p.item.chip),1)]),_:1},8,["color","size","variant","prepend-icon"])]),key:"0"}:void 0]),1032,["to","href","disabled","target"]))}},Oe={style:{position:"absolute",bottom:"16px",width:"100%","font-size":"13px"},class:"text-center"},Je=i("br",null,null,-1),Ke=i("br",null,null,-1),Qe=i("br",null,null,-1),Ze={style:{display:"flex","align-items":"center"}},et=i("span",{style:{"margin-left":"8px"}},"拖拽",-1),tt={style:{display:"flex",gap:"8px"}},at=i("iframe",{src:"https://astrbot.app",style:{width:"100%",height:"calc(100% - 56px)",border:"none","border-bottom-left-radius":"12px","border-bottom-right-radius":"12px"}},null,-1),lt={__name:"VerticalSidebar",setup(p){const f=M(),g=Ie(qe),E=m(!1),b=m({position:"fixed",bottom:"16px",right:"16px",width:"490px",height:"640px",minWidth:"300px",minHeight:"200px",background:"white",resize:"both",overflow:"auto",zIndex:"10000000",borderRadius:"12px",boxShadow:"0px 4px 12px rgba(0, 0, 0, 0.1)"});window.innerWidth<768&&(b.value={position:"fixed",top:"10%",left:"0%",width:"100%",height:"50%",minWidth:"300px",minHeight:"200px",background:"white",resize:"both",overflow:"auto",zIndex:"1002",borderRadius:"12px",boxShadow:"0px 4px 12px rgba(0, 0, 0, 0.1)"},f.Sidebar_drawer=!1);const O={width:"100%",padding:"8px",background:"#f0f0f0",borderBottom:"1px solid #ccc",borderTopLeftRadius:"8px",borderTopRightRadius:"8px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move"};function _(){E.value=!E.value}function x(r){if(typeof window<"u"){let u=r||"https://astrbot.app";window.open(u,"_blank")}}let I=0,y=0,A=!1;function R(r,u,S){return Math.min(Math.max(r,u),S)}function H(r,u){A=!0;const C=document.getElementById("draggable-iframe").getBoundingClientRect();I=r-C.left,y=u-C.top,document.body.style.userSelect="none",document.addEventListener("mousemove",X),document.addEventListener("mouseup",L),document.addEventListener("touchmove",Y,{passive:!1}),document.addEventListener("touchend",U)}function P(r){H(r.clientX,r.clientY)}function X(r){A&&w(r.clientX,r.clientY)}function L(){j()}function F(r){if(r.touches.length===1){const u=r.touches[0];H(u.clientX,u.clientY)}}function Y(r){if(A&&r.touches.length===1){r.preventDefault();const u=r.touches[0];w(u.clientX,u.clientY)}}function U(){j()}function w(r,u){const S=document.getElementById("draggable-iframe"),C=R(r-I,0,window.innerWidth-S.offsetWidth),N=R(u-y,0,window.innerHeight-S.offsetHeight);b.value.left=C+"px",b.value.top=N+"px"}function j(){A=!1,document.body.style.userSelect="",document.removeEventListener("mousemove",X),document.removeEventListener("mouseup",L),document.removeEventListener("touchmove",Y),document.removeEventListener("touchend",U)}return(r,u)=>(d(),B(oe,null,[t(Ee,{left:"",modelValue:s(f).Sidebar_drawer,"onUpdate:modelValue":u[1]||(u[1]=S=>s(f).Sidebar_drawer=S),elevation:"0","rail-width":"80",app:"",class:"leftSidebar",width:"220",rail:s(f).mini_sidebar},{default:e(()=>[t(ze,{class:"pa-4 listitem",style:{height:"auto"}},{default:e(()=>[(d(!0),B(oe,null,De(g.value,(S,C)=>(d(),v(Ge,{key:C,item:S,class:"leftPadding"},null,8,["item"]))),128))]),_:1}),i("div",Oe,[s(f).mini_sidebar?V("",!0):(d(),v(c,{key:0,style:{"margin-bottom":"8px"},size:"small",variant:"primary",to:"/settings"},{default:e(()=>[n(" 🔧 设置 ")]),_:1})),Je,s(f).mini_sidebar?V("",!0):(d(),v(c,{key:1,style:{"margin-bottom":"8px"},size:"small",variant:"plain",onClick:_},{default:e(()=>[n(" 官方文档 ")]),_:1})),Ke,s(f).mini_sidebar?V("",!0):(d(),v(c,{key:2,style:{"margin-bottom":"8px"},size:"small",variant:"plain",onClick:u[0]||(u[0]=S=>x("https://github.com/AstrBotDevs/AstrBot"))},{default:e(()=>[n(" GitHub ")]),_:1})),Qe])]),_:1},8,["modelValue","rail"]),E.value?(d(),B("div",{key:0,id:"draggable-iframe",style:Ae(b.value)},[i("div",{style:O,onMousedown:P,onTouchstart:F},[i("div",Ze,[t(k,{icon:"mdi-cursor-move"}),et]),i("div",tt,[t(c,{icon:"",onClick:D(x,["stop"]),onMousedown:u[2]||(u[2]=D(()=>{},["stop"])),style:{"border-radius":"8px",border:"1px solid #ccc"}},{default:e(()=>[t(k,{icon:"mdi-open-in-new"})]),_:1},8,["onClick"]),t(c,{icon:"",onClick:D(_,["stop"]),onMousedown:u[3]||(u[3]=D(()=>{},["stop"])),style:{"border-radius":"8px",border:"1px solid #ccc"}},{default:e(()=>[t(k,{icon:"mdi-close"})]),_:1},8,["onClick"])])],32),at],4)):V("",!0)],64))}},ot=i("span",{class:"logo-text"},[n("Astr"),i("span",{class:"logo-text-light"},"Bot")],-1),st={class:"version-text hidden-xs"},it={class:"mr-4 hidden-xs"},nt={key:0},dt={key:1},rt=i("span",{class:"hidden-xs"},"更新",-1),ut=i("span",{class:"text-h5"},"更新 AstrBot",-1),mt={style:{display:"inline-block"}},ct={style:{"margin-left":"4px"}},pt=["innerHTML"],ft=i("div",{class:"mb-4 mt-4"},[i("small",null,[n("💡 TIP: 跳到旧版本或者切换到某个版本不会重新下载管理面板文件，这可能会造成部分数据显示错误。您可在 "),i("a",{href:"https://github.com/Soulter/AstrBot/releases"},"此处"),n(" 找到对应的面板文件 dist.zip，解压后替换 data/dist 文件夹即可。当然，前端源代码在 dashboard 目录下，你也可以自己使用 npm install 和 npm build 构建。")])],-1),vt=i("div",{class:"mb-4"},[i("small",null,[n("`更新到最新版本` 按钮会同时尝试更新机器人主程序和管理面板。如果您正在使用 Docker 部署，也可以重新拉取镜像或者使用 "),i("a",{href:"https://containrrr.dev/watchtower/usage-overview/"},"watchtower"),n(" 来自动监控拉取。")])],-1),ht={style:{"margin-top":"16px"}},bt=i("h3",{class:"mb-4"},"手动输入版本号或 Commit SHA",-1),gt=i("div",{class:"mb-4"},[i("small",null,"如 v3.3.16 (不带 SHA) 或 42e5ec5d80b93b6bfe8b566754d45ffac4c3fe0b"),i("br"),i("a",{href:"https://github.com/Soulter/AstrBot/commits/master"},[i("small",null,"查看 master 分支提交记录（点击右边的 copy 即可复制）")])],-1),yt={style:{"margin-top":"16px"}},_t=i("h3",{class:"mb-4"},"单独更新管理面板到最新版本",-1),xt={class:"mb-4"},wt=i("br",null,null,-1),kt={class:"mb-4"},Vt={key:0},St={key:1},Ct=i("span",{class:"hidden-xs ml-1"},"账户",-1),Tt={class:"d-flex flex-column align-center mb-6"},It=i("strong",null,"安全提醒:",-1),zt=i("div",{class:"text-caption text-medium-emphasis mt-2"}," 默认用户名和密码均为 astrbot ",-1),Dt=ve({__name:"VerticalHeader",setup(p){const f=M();let g=m(!1),E=m(!1),b=m(!1);const O=localStorage.getItem("user");let _=m(""),x=m(""),I=m("");m("");let y=m(""),A=m(""),R=m(!1),H=m(""),P=m(!1),X=m(""),L=m(""),F=m([]),Y=m([]),U=m(!1),w=m(0),j=[{title:"标签",key:"tag_name"},{title:"发布时间",key:"published_at"},{title:"内容",key:"body"},{title:"源码地址",key:"zipball_url"},{title:"操作",key:"switch"}];const r=m(!0),u=[l=>!!l||"请输入密码",l=>l.length>=8||"密码长度至少 8 位"],S=[l=>!l||l.length>=3||"用户名长度至少3位"],C=m(!1),N=m(!1),h=m({loading:!1,success:!1,error:!1,message:""});function te(){h.value.loading=!0,h.value.error=!1,h.value.success=!1,_.value!=""&&(_.value=fe.md5(_.value)),x.value!=""&&(x.value=fe.md5(x.value)),W.post("/api/auth/account/edit",{password:_.value,new_password:x.value,new_username:I.value?I.value:O}).then(l=>{if(l.data.status=="error"){h.value.error=!0,h.value.message=l.data.message,_.value="",x.value="";return}h.value.success=!0,h.value.message=l.data.message,setTimeout(()=>{g.value=!g.value,pe().logout()},2e3)}).catch(l=>{console.log(l),h.value.error=!0,h.value.message=typeof l=="string"?l:"修改失败，请重试",_.value="",x.value=""}).finally(()=>{h.value.loading=!1})}function ge(){W.get("/api/stat/version").then(l=>{var o,$;H.value="v"+l.data.data.version,X.value=(o=l.data.data)==null?void 0:o.dashboard_version,(($=l.data.data)==null?void 0:$.change_pwd_hint)?(g.value=!0,E.value=!0,localStorage.setItem("change_pwd_hint","true")):localStorage.removeItem("change_pwd_hint")}).catch(l=>{console.log(l)})}function ae(){y.value="正在检查更新...",W.get("/api/update/check").then(l=>{R.value=l.data.data.has_new_version,l.data.data.has_new_version?(A.value=l.data.message,y.value="有新版本！"):y.value=l.data.message,P.value=l.data.data.dashboard_has_new_version}).catch(l=>{if(l.response.status==401){console.log("401"),pe().logout();return}console.log(l),y.value=l})}function ye(){W.get("/api/update/releases").then(l=>{F.value=l.data.data.map(a=>(a.published_at=new Date(a.published_at).toLocaleString(),a))}).catch(l=>{console.log(l)})}function _e(){fetch("https://api.github.com/repos/Soulter/AstrBot/commits",{headers:{Host:"api.github.com",Referer:"https://api.github.com"}}).then(l=>l.json()).then(l=>{Y.value=l.map(a=>({sha:a.sha,date:new Date(a.commit.author.date).toLocaleString(),message:a.commit.message}))}).catch(l=>{console.log(l)})}function q(l){y.value="正在切换版本...",U.value=!0,W.post("/api/update/do",{version:l,proxy:localStorage.getItem("selectedGitHubProxy")||""}).then(a=>{y.value=a.data.message,a.data.status=="ok"&&setTimeout(()=>{window.location.reload()},1e3)}).catch(a=>{console.log(a),y.value=a}).finally(()=>{U.value=!1})}function xe(){y.value="正在更新...",W.post("/api/update/dashboard").then(l=>{y.value=l.data.message,l.data.status=="ok"&&setTimeout(()=>{window.location.reload()},1e3)}).catch(l=>{console.log(l),y.value=l})}function we(){f.SET_UI_THEME(f.uiTheme==="PurpleThemeDark"?"PurpleTheme":"PurpleThemeDark")}ge(),ae();const le=Fe();return le.createEventSource(),le.getStartTime(),(l,a)=>(d(),v(Pe,{elevation:"0",height:"55"},{default:e(()=>[s(M)().uiTheme==="PurpleTheme"?(d(),v(c,{key:0,style:{"margin-left":"22px"},class:"hidden-md-and-down text-secondary",color:"lightsecondary",icon:"",rounded:"sm",variant:"flat",onClick:a[0]||(a[0]=D(o=>s(f).SET_MINI_SIDEBAR(!s(f).mini_sidebar),["stop"])),size:"small"},{default:e(()=>[t(k,null,{default:e(()=>[n("mdi-menu")]),_:1})]),_:1})):(d(),v(c,{key:1,style:{"margin-left":"22px",color:"var(--v-theme-primaryText)","background-color":"var(--v-theme-secondary)"},class:"hidden-md-and-down",icon:"",rounded:"sm",variant:"flat",onClick:a[1]||(a[1]=D(o=>s(f).SET_MINI_SIDEBAR(!s(f).mini_sidebar),["stop"])),size:"small"},{default:e(()=>[t(k,null,{default:e(()=>[n("mdi-menu")]),_:1})]),_:1})),s(M)().uiTheme==="PurpleTheme"?(d(),v(c,{key:2,class:"hidden-lg-and-up ms-3",color:"lightsecondary",icon:"",rounded:"sm",variant:"flat",onClick:D(s(f).SET_SIDEBAR_DRAWER,["stop"]),size:"small"},{default:e(()=>[t(k,null,{default:e(()=>[n("mdi-menu")]),_:1})]),_:1},8,["onClick"])):(d(),v(c,{key:3,class:"hidden-lg-and-up ms-3",icon:"",rounded:"sm",variant:"flat",onClick:D(s(f).SET_SIDEBAR_DRAWER,["stop"]),size:"small"},{default:e(()=>[t(k,null,{default:e(()=>[n("mdi-menu")]),_:1})]),_:1},8,["onClick"])),i("div",{class:he(["logo-container",{"mobile-logo":l.$vuetify.display.xs}])},[ot,i("span",st,z(s(H)),1)],2),t(J),i("div",it,[s(R)?(d(),B("small",nt," AstrBot 有新版本！ ")):s(P)?(d(),B("small",dt," WebUI 有新版本！ ")):V("",!0)]),t(c,{size:"small",onClick:a[2]||(a[2]=o=>{we()}),class:"action-btn",color:"var(--v-theme-surface)",variant:"flat",rounded:"sm"},{default:e(()=>[s(M)().uiTheme==="PurpleThemeDark"?(d(),v(k,{key:0},{default:e(()=>[n("mdi-weather-night")]),_:1})):(d(),v(k,{key:1},{default:e(()=>[n("mdi-white-balance-sunny")]),_:1}))]),_:1}),t(ce,{modelValue:s(b),"onUpdate:modelValue":a[12]||(a[12]=o=>T(b)?b.value=o:b=o),width:l.$vuetify.display.smAndDown?"100%":"1000",fullscreen:l.$vuetify.display.xs},{activator:e(({props:o})=>[t(c,K({size:"small",onClick:a[3]||(a[3]=$=>{ae(),ye(),_e()}),class:"action-btn",color:"var(--v-theme-surface)",variant:"flat",rounded:"sm"},o),{default:e(()=>[t(k,{class:"hidden-sm-and-up"},{default:e(()=>[n("mdi-update")]),_:1}),rt]),_:2},1040)]),default:e(()=>[t(se,null,{default:e(()=>[t(Le,{class:"mobile-card-title"},{default:e(()=>[ut,l.$vuetify.display.xs?(d(),v(c,{key:0,icon:"",onClick:a[4]||(a[4]=o=>T(b)?b.value=!1:b=!1)},{default:e(()=>[t(k,null,{default:e(()=>[n("mdi-close")]),_:1})]),_:1})):V("",!0)]),_:1}),t(ie,null,{default:e(()=>[t(be,null,{default:e(()=>[Q(t(Be,{class:"mb-4",indeterminate:"",color:"primary"},null,512),[[Z,s(U)]]),i("div",null,[i("h1",mt,z(s(H)),1),i("small",ct,z(s(y)),1)]),s(A)?(d(),B("div",{key:0,style:{"background-color":"#646cff24",padding:"16px","border-radius":"10px","font-size":"14px","max-height":"400px","overflow-y":"auto"},innerHTML:s(je)(s(A)),class:"markdown-content"},null,8,pt)):V("",!0),ft,t($e,{modelValue:s(w),"onUpdate:modelValue":a[5]||(a[5]=o=>T(w)?w.value=o:w=o)},{default:e(()=>[t(ne,{value:"0"},{default:e(()=>[n("😊 正式版")]),_:1}),t(ne,{value:"1"},{default:e(()=>[n("🧐 开发版(master 分支)")]),_:1})]),_:1},8,["modelValue"]),t(Me,{modelValue:s(w),"onUpdate:modelValue":a[7]||(a[7]=o=>T(w)?w.value=o:w=o)},{default:e(()=>[Q(t(de,{key:"0"},{default:e(()=>[t(c,{class:"mt-4 mb-4",onClick:a[6]||(a[6]=o=>q("latest")),color:"primary",style:{"border-radius":"10px"},disabled:!s(R)},{default:e(()=>[n(" 更新到最新版本 ")]),_:1},8,["disabled"]),vt,t(re,{headers:s(j),items:s(F),"item-key":"name"},{"item.body":e(({item:o})=>[t(Re,{text:o.body},{activator:e(({props:$})=>[t(c,K($,{rounded:"xl",variant:"tonal",color:"primary",size:"small"}),{default:e(()=>[n("查看")]),_:2},1040)]),_:2},1032,["text"])]),"item.switch":e(({item:o})=>[t(c,{onClick:$=>q(o.tag_name),rounded:"xl",variant:"plain",color:"primary"},{default:e(()=>[n(" 切换 ")]),_:2},1032,["onClick"])]),_:1},8,["headers","items"])]),_:1},512),[[Z,s(w)==0]]),Q(t(de,{key:"1"},{default:e(()=>[i("div",ht,[t(re,{headers:[{title:"SHA",key:"sha"},{title:"日期",key:"date"},{title:"信息",key:"message"},{title:"操作",key:"switch"}],items:s(Y),"item-key":"sha"},{"item.switch":e(({item:o})=>[t(c,{onClick:$=>q(o.sha),rounded:"xl",variant:"plain",color:"primary"},{default:e(()=>[n(" 切换 ")]),_:2},1032,["onClick"])]),_:1},8,["items"])])]),_:1},512),[[Z,s(w)==1]])]),_:1},8,["modelValue"]),bt,t(G,{label:"输入版本号或 master 分支下的 commit hash。",modelValue:s(L),"onUpdate:modelValue":a[8]||(a[8]=o=>T(L)?L.value=o:L=o),required:"",variant:"outlined"},null,8,["modelValue"]),gt,t(c,{color:"error",style:{"border-radius":"10px"},onClick:a[9]||(a[9]=o=>q(s(L)))},{default:e(()=>[n(" 确定切换 ")]),_:1}),t(ue,{class:"mt-4 mb-4"}),i("div",yt,[_t,i("div",xt,[i("small",null,"当前版本 "+z(s(X)),1),wt]),i("div",kt,[s(P)?(d(),B("p",Vt," 有新版本！ ")):(d(),B("p",St," 已经是最新版本了。 "))]),t(c,{color:"primary",style:{"border-radius":"10px"},onClick:a[10]||(a[10]=o=>xe()),disabled:!s(P)},{default:e(()=>[n(" 下载并更新 ")]),_:1},8,["disabled"])])]),_:1})]),_:1}),t(me,null,{default:e(()=>[t(J),t(c,{color:"blue-darken-1",variant:"text",onClick:a[11]||(a[11]=o=>T(b)?b.value=!1:b=!1)},{default:e(()=>[n(" 关闭 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","width","fullscreen"]),t(ce,{modelValue:s(g),"onUpdate:modelValue":a[20]||(a[20]=o=>T(g)?g.value=o:g=o),persistent:"","max-width":l.$vuetify.display.xs?"90%":"500"},{activator:e(({props:o})=>[t(c,K({size:"small",class:"action-btn mr-4",color:"var(--v-theme-surface)",variant:"flat",rounded:"sm"},o),{default:e(()=>[t(k,null,{default:e(()=>[n("mdi-account")]),_:1}),Ct]),_:2},1040)]),default:e(()=>[t(se,{class:"account-dialog"},{default:e(()=>[t(ie,{class:"py-6"},{default:e(()=>[i("div",Tt,[t(Ye,{title:"AstrBot 仪表盘",subtitle:"修改账户"})]),s(E)?(d(),v(ee,{key:0,type:"warning",variant:"tonal",border:"start",class:"mb-4"},{default:e(()=>[It,n(" 请修改默认密码以确保账户安全 ")]),_:1})):V("",!0),h.value.success?(d(),v(ee,{key:1,type:"success",variant:"tonal",border:"start",class:"mb-4"},{default:e(()=>[n(z(h.value.message),1)]),_:1})):V("",!0),h.value.error?(d(),v(ee,{key:2,type:"error",variant:"tonal",border:"start",class:"mb-4"},{default:e(()=>[n(z(h.value.message),1)]),_:1})):V("",!0),t(He,{modelValue:r.value,"onUpdate:modelValue":a[18]||(a[18]=o=>r.value=o),onSubmit:D(te,["prevent"])},{default:e(()=>[t(G,{modelValue:s(_),"onUpdate:modelValue":a[13]||(a[13]=o=>T(_)?_.value=o:_=o),"append-inner-icon":C.value?"mdi-eye-off":"mdi-eye",type:C.value?"text":"password",label:"当前密码",variant:"outlined",required:"",clearable:"","onClick:appendInner":a[14]||(a[14]=o=>C.value=!C.value),"prepend-inner-icon":"mdi-lock-outline","hide-details":"auto",class:"mb-4"},null,8,["modelValue","append-inner-icon","type"]),t(G,{modelValue:s(x),"onUpdate:modelValue":a[15]||(a[15]=o=>T(x)?x.value=o:x=o),"append-inner-icon":N.value?"mdi-eye-off":"mdi-eye",type:N.value?"text":"password",rules:u,label:"新密码",variant:"outlined",required:"",clearable:"","onClick:appendInner":a[16]||(a[16]=o=>N.value=!N.value),"prepend-inner-icon":"mdi-lock-plus-outline",hint:"密码长度至少 8 位","persistent-hint":"",class:"mb-4"},null,8,["modelValue","append-inner-icon","type"]),t(G,{modelValue:s(I),"onUpdate:modelValue":a[17]||(a[17]=o=>T(I)?I.value=o:I=o),rules:S,label:"新用户名 (可选)",variant:"outlined",clearable:"","prepend-inner-icon":"mdi-account-edit-outline",hint:"留空表示不修改用户名","persistent-hint":"",class:"mb-3"},null,8,["modelValue"])]),_:1},8,["modelValue","onSubmit"]),zt]),_:1}),t(ue),t(me,{class:"pa-4"},{default:e(()=>[t(J),s(E)?V("",!0):(d(),v(c,{key:0,variant:"tonal",color:"secondary",onClick:a[19]||(a[19]=o=>T(g)?g.value=!1:g=!1),disabled:h.value.loading},{default:e(()=>[n(" 取消 ")]),_:1},8,["disabled"])),t(c,{color:"primary",onClick:te,loading:h.value.loading,disabled:!r.value,"prepend-icon":"mdi-content-save"},{default:e(()=>[n(" 保存修改 ")]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue","max-width"])]),_:1}))}});const Et={style:{height:"100%"}},Ut=ve({__name:"FullLayout",setup(p){const f=M();return(g,E)=>(d(),v(We,null,{default:e(()=>[t(Ne,{theme:s(M)().uiTheme,class:he([s(f).fontTheme,s(f).mini_sidebar?"mini-sidebar":"",s(f).inputBg?"inputWithbg":""])},{default:e(()=>[t(Dt),t(lt),t(Ue,null,{default:e(()=>[t(be,{fluid:"",class:"page-wrapper",style:{height:"calc(100% - 8px)"}},{default:e(()=>[i("div",Et,[t(s(Xe))])]),_:1})]),_:1})]),_:1},8,["theme","class"])]),_:1}))}});export{Ut as default};
